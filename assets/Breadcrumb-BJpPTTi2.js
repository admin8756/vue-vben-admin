var O=Object.defineProperty,Y=Object.defineProperties;var Z=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var S=(l,r,t)=>r in l?O(l,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[r]=t,M=(l,r)=>{for(var t in r||(r={}))j.call(r,t)&&S(l,t,r[t]);if(N)for(var t of N(r))q.call(r,t)&&S(l,t,r[t]);return l},x=(l,r)=>Y(l,Z(r));var w=(l,r,t)=>new Promise((g,v)=>{var y=f=>{try{p(t.next(f))}catch(_){v(_)}},h=f=>{try{p(t.throw(f))}catch(_){v(_)}},p=f=>f.done?g(f.value):Promise.resolve(f.value).then(y,h);p((t=t.apply(l,r)).next())});import{d as H,f as J,Y as K,h as Q,a7 as U,Z as o,_ as b,k as D,a9 as d,F as L,aa as T,a8 as k,ad as W,u,ab as V,a0 as B,G as z,a1 as X}from"./vue-BzLr-Yiv.js";import{p as I,f as ee,D as ae,aN as te,z as F,h as ne,bb as se,bk as re,b9 as ce,aC as le}from"./entry/index-CcD9InFe-1713859961241.js";import{x as ue,b0 as oe,bA as ie,bB as fe,l as me}from"./antd-wx2EorFB.js";const de={key:1},he={key:1},be=H({name:"LayoutBreadcrumb",__name:"Breadcrumb",props:{theme:I.oneOf(["dark","light"])},setup(l){const r=J([]),{currentRoute:t}=K(),{prefixCls:g}=ee("layout-breadcrumb"),{getShowBreadCrumbIcon:v}=ae(),y=te(),{t:h}=ne();Q(()=>w(this,null,function*(){var E,P,R;if(t.value.name===se)return;const c=yield re(),s=t.value.matched,n=s==null?void 0:s[s.length-1];let e=t.value.path;n&&((E=n==null?void 0:n.meta)!=null&&E.currentActiveMenu)&&(e=n.meta.currentActiveMenu);const a=ce(c,e),i=c.filter(G=>G.path===a[0]),m=p(i,a);if(!m||m.length===0){r.value=[];return}const A=f(m);(P=t.value.meta)!=null&&P.currentActiveMenu&&A.push(x(M({},t.value),{name:((R=t.value.meta)==null?void 0:R.title)||t.value.name})),r.value=A}));function p(c,s){const n=[];return c.forEach(e=>{var a,i;s.includes(e.path)&&n.push(x(M({},e),{name:((a=e.meta)==null?void 0:a.title)||e.name})),(i=e.children)!=null&&i.length&&n.push(...p(e.children,s))}),n}function f(c){return le(c,s=>{const{meta:n,name:e}=s;if(!n)return!!e;const{title:a,hideBreadcrumb:i,hideMenu:m}=n;return!(!a||i||m)}).filter(s=>{var n;return!((n=s.meta)!=null&&n.hideBreadcrumb)})}function _(c){const{children:s,redirect:n,meta:e}=c;if(!(s!=null&&s.length&&!n)&&!(e!=null&&e.carryParam))if(n&&me(n))y(n);else{let a="";c.path?a=c.path:a="",a=/^\//.test(a)?a:`/${a}`,y(a)}}function $(c,s){return c.indexOf(s)!==c.length-1}function C(c){var s;return c.icon||((s=c.meta)==null?void 0:s.icon)}return(c,s)=>{const n=U("router-link");return o(),b("div",{class:X([u(g),`${u(g)}--${l.theme}`])},[D(u(fe),null,{default:d(()=>[(o(!0),b(L,null,T(r.value,e=>(o(),k(u(ie),{key:e.name},W({default:d(()=>[u(v)&&C(e)?(o(),k(F,{key:0,icon:C(e)},null,8,["icon"])):V("",!0),$(r.value,e)?(o(),k(n,{key:2,to:"",onClick:a=>_(e)},{default:d(()=>[z(B(u(h)(e.meta.title||e.name)),1)]),_:2},1032,["onClick"])):(o(),b("span",de,B(u(h)(e.meta.title||e.name)),1))]),_:2},[e.children?{name:"overlay",fn:d(()=>[D(u(ue),null,{default:d(()=>[(o(!0),b(L,null,T(e.children,a=>(o(),k(u(oe),{key:a.name},{default:d(()=>{var i;return[u(v)&&C(a)?(o(),k(F,{key:0,icon:C(a)},null,8,["icon"])):V("",!0),$(r.value,a)?(o(),k(n,{key:2,to:"",onClick:m=>_(a)},{default:d(()=>{var m;return[z(B(u(h)(((m=a.meta)==null?void 0:m.title)||a.name)),1)]}),_:2},1032,["onClick"])):(o(),b("span",he,B(u(h)(((i=a.meta)==null?void 0:i.title)||a.name)),1))]}),_:2},1024))),128))]),_:2},1024)]),key:"0"}:void 0]),1024))),128))]),_:1})],2)}}});export{be as default};
